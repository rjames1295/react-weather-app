(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{133:function(e,t,a){e.exports=a(173)},172:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),o=a(26),i=a(37),u=a(47),s=a.n(u),m=a(45),d="SET_CURRENT_USER_GEOLOCATION",p="UNSET_CURRENT_USER_GEOLOCATION",g="ADD_TO_WARNING_LIST",E="UNSET_WARNING_LIST",f="ADD_TO_ERROR_LIST",b="UNSET_ERROR_LIST",v=function(e){return{type:f,payload:e}},h=a(24),y=a(14),O=a(64),S=a(99),j=a.n(S),w=a(40),k=a(100),_=a(101),I=a.n(_),N=a(65),A=Object(w.c)({currentUserGeolocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(O.a)({},e,{},t.payload);case p:return{};default:return e}},warningList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return[].concat(Object(N.a)(e),Object(N.a)(t.payload));case E:return[];default:return e}},errorList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return[].concat(Object(N.a)(e),[t.payload]);case b:return[];default:return e}}}),q=Object(w.a)(k.a,I.a)(w.d)(A,{});window.store=q;var P=q,T=j.a.create({});T.interceptors.request.use((function(e){return e}),(function(e){return e.message&&!e.response.data&&P.dispatch(v(e.message)),e.message&&e.response&&e.response.data&&e.response.data.message&&P.dispatch(v("".concat(e.message," ").concat(e.response.data.message))),Promise.reject(e)})),T.interceptors.response.use((function(e){return e}),(function(e){return e.message&&!e.response.data&&P.dispatch(v(e.message)),e.message&&e.response&&e.response.data&&e.response.data.message&&P.dispatch(v("".concat(e.message," ").concat(e.response.data.message))),Promise.reject(e)}));var C=T,F=function(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({}),c=Object(y.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),d=m[0],p=m[1],g=Object(n.useState)(null),E=Object(y.a)(g,2),f=E[0],b=E[1],v=Object(n.useState)(null),h=Object(y.a)(v,2),S=h[0],j=h[1],w=Object(n.useState)(null),k=Object(y.a)(w,2),_=k[0],I=k[1];return Object(n.useEffect)((function(){a&&(console.log("SENDING HTTP REQUEST"),function(){var e;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),t.next=3,s.a.awrap(C.get(a,{params:Object(O.a)({},o)}).catch((function(e){console.error("wtfffff",e),I(e.message),j(e.status),p(!1)})));case 3:(e=t.sent)?(console.log(e),b(e.data),j(e.status),p(!1)):(I("No response received"),p(!1));case 5:case"end":return t.stop()}}))}())}),[a,o]),[{fetchedData:f,isLoading:d,errorMessage:_,responseCode:S},r,i]},x="https://api.openweathermap.org/",M=localStorage.getItem("OWM_API_KEY")||"",L=localStorage.getItem("DEFAULT_UNITS")||"metric",U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(x,"data/2.5/weather?lat=").concat(e.lat,"&lon=").concat(e.lng,"&units=").concat(L,"&APPID=").concat(M)},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(x,"data/2.5/forecast?lat=").concat(e.lat,"&lon=").concat(e.lng,"&units=").concat(L,"&APPID=").concat(M)},D=a(57),R=a(219),H=a(221),W=a(220),K=a(222),Y=a(50),B=a(218),Q=Object(D.a)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),V=function(e){var t=Q(),a=e.weatherInfo,n=void 0===a?{}:a,l=e._key;return r.a.createElement(R.a,{className:t.card+" mb-3",key:l},r.a.createElement(W.a,null,r.a.createElement(Y.a,{className:t.title,color:"textSecondary",gutterBottom:!0},n.name),r.a.createElement(Y.a,{variant:"h5",component:"h2"},n.name),r.a.createElement(Y.a,{className:t.pos,color:"textSecondary"},"adjective"),function(){var e=n.main,t=void 0===e?{}:e;return r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,lg:4},r.a.createElement("div",null,"Temperature:"),r.a.createElement("div",null,t.temp)),r.a.createElement(B.a,{item:!0,lg:4},r.a.createElement("div",null,"Feels like:"),r.a.createElement("div",null,t.feels_like)),r.a.createElement(B.a,{item:!0,lg:4},r.a.createElement("div",null,"Minimum temp:"),r.a.createElement("div",null,t.temp_min)),r.a.createElement(B.a,{item:!0,lg:4},r.a.createElement("div",null,"Maximum temp:"),r.a.createElement("div",null,t.temp_max)),r.a.createElement(B.a,{item:!0,lg:4},r.a.createElement("div",null,"Pressure:"),r.a.createElement("div",null,t.pressure)),r.a.createElement(B.a,{item:!0,lg:4},r.a.createElement("div",null,"Humidity:"),r.a.createElement("div",null,t.humidity)))}()),r.a.createElement(H.a,null,r.a.createElement(K.a,{size:"small"},"Learn More")))},z=Object(h.b)((function(e){return{currentUserGeolocation:e.currentUserGeolocation}}),null)(r.a.memo((function(e){var t=e.currentUserGeolocation,a=F(),l=Object(y.a)(a,2),c=l[0],o=c.fetchedData,i=c.isLoading,u=c.errMessage,s=l[1];return Object(n.useEffect)((function(){t&&t.lat&&t.lng&&s(U(t))}),[t,s]),u?r.a.createElement(r.a.Fragment,null,String(u)):i?r.a.createElement(r.a.Fragment,null," Loading... "):o?r.a.createElement("div",{className:"text-center"},"Currently the weather info is",r.a.createElement(V,{weatherInfo:o,_key:"w-card"})):r.a.createElement(r.a.Fragment,null)}),(function(e,t){return e.currentUserGeolocation===t.currentUserGeolocation}))),J=a(102),$=a.n(J),Z=function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))},X=function(e){var t=Object(n.useState)(!!e.expanded),a=Object(y.a)(t,2),l=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{cursor:"pointer",textStyle:"underline",color:"blue"},onClick:function(){c(!l)}},e.title,l?r.a.createElement("span",null," v"):r.a.createElement("span",null," >")),l?e.children:null,0===e.children.length&&l?r.a.createElement("i",null,"Empty"):null)},ee=function e(t){return r.a.createElement("div",{className:"text-left p-l-15"},null!==t.property?r.a.createElement(r.a.Fragment,null,"number"===typeof t.property||"string"===typeof t.property||"boolean"===typeof t.property?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("b",null,Z(t.propertyName))," : ",String(t.property)," "):r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{title:Z(t.propertyName),expanded:t.rootProperty},Object.values(t.property).map((function(a,n,l){var c=l.length;return r.a.createElement(e,{key:n,property:a,propertyName:Object.getOwnPropertyNames(t.property)[n],excludeBottomBorder:n===c-1})}))))):r.a.createElement(r.a.Fragment,null," ",r.a.createElement("b",null,Z(t.propertyName))," : ",String(t.property)," "))},te=Object(h.b)((function(e){return{currentUserGeolocation:e.currentUserGeolocation}}),null)((function(e){var t=e.currentUserGeolocation,a=F(),l=Object(y.a)(a,2),c=l[0],o=c.fetchedData,i=c.isLoading,u=c.errorMessage,s=l[1];if(Object(n.useEffect)((function(){t&&t.lat&&t.lng&&s(G(t))}),[t,s]),u)return r.a.createElement(r.a.Fragment,null,String(u));if(i)return r.a.createElement(r.a.Fragment,null," Loading... ");if(o&&o.list){var m=function(e){if(!e||!e.length)return[];var t=new Map,a=!0,n=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var o=l.value,i=$()(1e3*o.dt).format("dddd Do MMMM");t[i]||(t[i]=[]),t[i].push(o)}}catch(u){n=!0,r=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return t}(o.list),d=o.city;return r.a.createElement("div",{className:"text-center"},r.a.createElement("hr",null),r.a.createElement(Y.a,{variant:"h5",component:"h2"},"Forecasted weather for the next 5 days"),r.a.createElement(B.a,{container:!0,spacing:7},Object.keys(m).map((function(e,t){return t>0?r.a.createElement(B.a,{item:!0,lg:4,md:4,sm:4,key:"gw-grid-".concat(t)},m[e].map((function(e,a){var n="w-card-".concat(t,"-").concat(a);return r.a.createElement(V,{weatherInfo:e,_key:n,key:n})}))):r.a.createElement(r.a.Fragment,{key:"gw-grid-".concat(t)})}))),r.a.createElement("hr",null),r.a.createElement(ee,{property:d,propertyName:"Forecasted city info",excludeBottomBorder:!1,rootProperty:!0}))}return r.a.createElement(r.a.Fragment,null)})),ae=Object(h.b)((function(e){return{currentUserGeolocation:e.currentUserGeolocation}}),(function(e){return{setCurrentUserGeolocation:function(t){e({type:d,payload:t})},unsetCurrentUserGeolocation:function(t){e({type:p,payload:null})}}}))((function(e){var t=e.setCurrentUserGeolocation,a=Object(m.useSnackbar)().enqueueSnackbar;return Object(n.useEffect)((function(){!function(){var e;s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(new Promise((function(e,t){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){t.coords&&e({lat:t.coords.latitude,lng:t.coords.longitude})}),(function(e){console.error(e),t(e)})):t("Your browser does not support geolocation")})).catch((function(e){console.error(e)})));case 2:(e=n.sent)?t(e):a("Error retrieving current location",{variant:"error"});case 4:case"end":return n.stop()}}))}()}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(te,null))})),ne=a(224),re=Object(i.f)((function(e){return localStorage.getItem("OWM_API_KEY")?r.a.createElement(ne.a,null,r.a.createElement(ae,e)):r.a.createElement(r.a.Fragment,null)})),le=Object(i.f)((function(e){console.log(e);var t=e.location;return r.a.createElement(r.a.Fragment,null,'Looks like the page "'.concat(t.pathname,'" could not be found :('))})),ce=Object(i.f)((function(e){return r.a.createElement(ne.a,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec fringilla, turpis eu imperdiet tincidunt, nunc enim rutrum lorem, ut condimentum tortor nisl fermentum augue. Nullam vulputate eu augue eget interdum. Nulla facilisi. Nullam vel lectus rhoncus, congue tortor pellentesque, semper neque. Fusce a turpis luctus, placerat lectus vehicula, viverra turpis. Proin magna velit, congue vel iaculis a, tincidunt sed magna. Aliquam erat volutpat. Pellentesque id mauris fermentum, pretium augue vitae, semper enim. Quisque varius, magna eget maximus suscipit, magna dui auctor dolor, ut blandit est eros vitae magna. Mauris suscipit posuere odio, eu sodales dolor tempor rutrum. Aenean condimentum ultricies posuere. Morbi nec condimentum tortor. Donec suscipit dui sit amet malesuada consequat. Mauris nulla ligula, egestas quis ultricies sed, ultricies ac quam. Aenean placerat vulputate efficitur. Aliquam cursus urna elit, nec placerat diam tristique id. Nulla non neque nunc. Quisque semper libero non magna iaculis sodales. Vivamus condimentum lectus eget faucibus efficitur. Etiam sodales congue tortor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum rutrum sodales orci ut ultrices. Cras et porta nibh. Cras efficitur nulla elit. Nam sed velit purus. In vel eros in odio congue porta. Quisque tempor non mauris eu cursus. Sed malesuada eu sapien in sagittis. Donec aliquet sodales rutrum. Praesent vitae mauris in diam imperdiet cursus. Cras eget ipsum nunc. Suspendisse et egestas sapien. Aenean at ultrices nisl, eget bibendum justo. Suspendisse eget tortor nec lorem hendrerit elementum vitae id magna. Aenean commodo sagittis neque. In hac habitasse platea dictumst. Donec gravida dignissim tempor. Suspendisse dolor metus, ornare ac condimentum id, pretium sit amet ante. Phasellus sodales, dui nec feugiat dignissim, nunc felis vulputate leo, eu tempus nisl odio sed mi. Aenean aliquet lobortis libero in venenatis. Vivamus imperdiet, eros in scelerisque scelerisque, lectus quam pellentesque ante, ac commodo eros ipsum at risus. In sed magna imperdiet, mattis felis in, pulvinar erat. Praesent ac mattis lorem. Aenean non feugiat elit. Cras vulputate at ligula quis elementum. Aenean a vestibulum augue, eu sollicitudin nisi. Donec eu odio ut elit consequat pellentesque. Aenean at felis consequat, sollicitudin velit non, suscipit ipsum. Aenean quis libero justo. Nam facilisis eleifend faucibus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Maecenas augue justo, convallis nec lacus a, faucibus mollis velit. Nam lobortis, justo suscipit feugiat rhoncus, ligula diam aliquam lacus, vitae aliquam eros sapien ut nibh. Fusce auctor sagittis justo vel placerat. Suspendisse eros orci, sodales eu odio nec, aliquam elementum ipsum. Suspendisse et sapien vitae justo consequat iaculis. In dapibus arcu eget orci consequat sollicitudin. Vestibulum at augue diam. Fusce nisi nibh, pellentesque eget scelerisque ut, volutpat quis dolor.")})),oe="/",ie="/about",ue=function(e){return r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:oe,render:function(){return r.a.createElement(re,null)}}),r.a.createElement(i.a,{exact:!0,path:ie,component:ce}),r.a.createElement(i.a,{path:"*",component:le}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(235),me=a(236),de=a(237),pe=a(109),ge=a.n(pe),Ee=a(110),fe=a.n(Ee),be=a(241),ve=a(229),he=a(234),ye=a(231),Oe=a(232),Se=a(233),je=a(107),we=a.n(je),ke=a(106),_e=a.n(ke),Ie=a(75),Ne=a.n(Ie),Ae=a(108),qe=a.n(Ae),Pe=a(239),Te=a(225),Ce=a(230),Fe=a(227),xe=a(228),Me=a(226),Le=function(e){var t=e._closeHandler,a=e.isOpen,l=Object(n.useState)(""),c=Object(y.a)(l,2),o=c[0],i=c[1],u=Object(m.useSnackbar)().enqueueSnackbar;return r.a.createElement("div",null,r.a.createElement(Te.a,{open:a,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Me.a,{id:"alert-dialog-title"},"Openweathermap API key"),r.a.createElement(Fe.a,null,r.a.createElement(xe.a,{id:"alert-dialog-description"},r.a.createElement("span",null,"Don't have an API key? Head over to"," ",r.a.createElement("a",{href:"https://openweathermap.org",target:"_blank",rel:"noopener noreferrer"},"Open Weather Map")," ","and create a free account")),r.a.createElement(Pe.a,{autoFocus:!0,margin:"dense",id:"api-key",label:"API Key",fullWidth:!0,required:!0,onChange:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;i(a)}})),r.a.createElement(Ce.a,null,r.a.createElement(K.a,{onClick:function(){o?(localStorage.setItem("OWM_API_KEY",o),window.location.reload()):u("Please enter your API key",{variant:"error"})},color:"primary"},"Set API key"))))},Ue=function(e){var t=e.message,a=e._closeHandler,n=e._onDecide,l=e.isOpen;return l?r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{open:l,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Me.a,{id:"alert-dialog-title"},"Openweathermap API key"),r.a.createElement(Fe.a,null,r.a.createElement(xe.a,{id:"alert-dialog-description"},r.a.createElement("span",null,t))),r.a.createElement(Ce.a,null,r.a.createElement(K.a,{className:"default-btn-solid danger",onClick:function(){n(!1),a()}},"Cancel"),r.a.createElement(K.a,{className:"default-btn-solid success",onClick:function(){n(!0),a()}},"Yes")))):r.a.createElement(r.a.Fragment,null)},Ge=Object(D.a)({list:{width:250},fullList:{width:"auto"}}),De=localStorage.getItem("OWM_API_KEY")||"",Re=Object(h.b)("","")((function(){var e=Ge(),t=Object(n.useState)(!1),a=Object(y.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),u=Object(y.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(!1),p=Object(y.a)(d,2),g=p[0],E=p[1],f=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&E(e)}},b=function(){c(!l)},v=function(){m(!s)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{isOpen:l,_closeHandler:function(){c(!1)},_toggleHandler:b}),r.a.createElement(Ue,{message:"Are you sure you want to remove your API key?",_closeHandler:function(){m(!1)},_toggleHandler:v,_onDecide:function(e){e&&(localStorage.setItem("OWM_API_KEY",""),window.location.reload())},isOpen:s}),r.a.createElement(qe.a,{onClick:f(!0)}),r.a.createElement(be.a,{open:g,onClose:f(!1),onOpen:f(!0)},r.a.createElement("div",{className:e.list,role:"presentation",onClick:f(!1),onKeyDown:f(!1)},r.a.createElement(ve.a,null,r.a.createElement(ye.a,{button:!0},r.a.createElement(Oe.a,null,r.a.createElement(_e.a,null)),r.a.createElement(Se.a,null,r.a.createElement(o.b,{to:"/about"},"About"))),De?r.a.createElement(ye.a,null,r.a.createElement(Oe.a,null,r.a.createElement(Ne.a,null)),r.a.createElement(Se.a,{color:"red"},"API key: ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.length<=t?e:e.slice(0,t)+"..."}(De,5))):r.a.createElement(ye.a,{button:!0,onClick:function(){b()}},r.a.createElement(Oe.a,null,r.a.createElement(Ne.a,null)),r.a.createElement(Se.a,null,"Add API key"))),r.a.createElement(he.a,null),r.a.createElement(ve.a,null,De?r.a.createElement(ye.a,{button:!0,onClick:v},r.a.createElement(Oe.a,null,r.a.createElement(we.a,null)),r.a.createElement(Se.a,{primary:"Remove API key"})):r.a.createElement(r.a.Fragment,null)))))})),He=function(){var e=localStorage.getItem("THEME_SETTING_STR")||"";return r.a.createElement("div",{className:"nav-bar"},r.a.createElement(se.a,{position:"static",color:"inherit"},r.a.createElement(me.a,null,r.a.createElement(de.a,{edge:"start",className:"menu-button",color:"inherit","aria-label":"menu"},r.a.createElement(Re,null)),r.a.createElement(Y.a,{variant:"h6",className:"title"},r.a.createElement(o.b,{to:"/"},"ReWeather")),r.a.createElement(de.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){"light"===e?localStorage.setItem("THEME_SETTING_STR",""):localStorage.setItem("THEME_SETTING_STR","light"),window.location.reload()}},r.a.createElement(ge.a,null)),r.a.createElement("div",{className:"ml-5"},r.a.createElement("a",{href:"https://github.com/rjames1295/react-weather-app",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(fe.a,null))))))},We=function(e){return r.a.createElement("footer",null)},Ke=a(240),Ye=Object(h.b)((function(e){return{warningList:e.warningList||[],errorList:e.errorList||[]}}),"")((function(e){var t=e.warningList,a=localStorage.getItem("OWM_API_KEY")||"",l=Object(n.useState)(!1),c=Object(y.a)(l,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{isOpen:o,_closeHandler:function(){i(!1)},_toggleHandler:function(){i(!o)}}),r.a.createElement("div",{className:"pl-5 pr-5 pb-3 pt-3"},!a&&r.a.createElement(Ke.a,{variant:"filled",severity:"info",className:"mb-2",action:r.a.createElement(K.a,{onClick:function(){i(!o)}},"Add API Key")},"You will need to provide an API key before you can access weather info!"),t&&t.map((function(e,t){return r.a.createElement(Ke.a,{variant:"filled",severity:"warning",className:"mb-2",key:t},String(e))})),e.errorList&&e.errorList.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{variant:"filled",severity:"error",className:"mb-2",key:t,action:r.a.createElement(K.a,null,"Send an e-mail about this error")},String(e)))}))))})),Be=a(216),Qe=a(58),Ve=a(111),ze=a.n(Ve),Je=a(112),$e=a.n(Je),Ze="light"===(localStorage.getItem("THEME_SETTING_STR")||""),Xe={palette:{type:"dark",primary:ze.a,secondary:$e.a,text:{primary:"#fff",secondary:"#fff !important",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"}}},et=Ze?Object(Qe.a)({}):Object(Qe.a)(Xe),tt=(a(172),a(238));c.a.render(r.a.createElement(Be.a,{theme:et},r.a.createElement(tt.a,null),r.a.createElement(h.a,{store:P},r.a.createElement(o.a,null,r.a.createElement(m.SnackbarProvider,{maxSnack:5},r.a.createElement(He,null),r.a.createElement(Ye,null),r.a.createElement(ue,null),r.a.createElement(We,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[133,1,2]]]);
//# sourceMappingURL=main.1d5db25f.chunk.js.map