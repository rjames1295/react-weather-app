(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{34:function(e,t,r){e.exports=r(63)},43:function(e,t,r){},44:function(e,t,r){},63:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(6),c=r.n(o),i=r(14),l=r(7),u=r(30),s=r(31),p=r.n(s),h=r(33),f="SET_CURRENT_USER_GEOLOCATION",m="UNSET_CURRENT_USER_GEOLOCATION",d=Object(l.c)({currentUserGeolocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(h.a)({},e,{},t.payload);case m:return{};default:return e}}}),y=Object(l.a)(u.a,p.a)(l.d)(d,{});window.store=y;var g=y,v=(r(43),r(44),r(8)),b=r(10),E=r(9),O=r(11),j=r(12),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))for(var r in t){var n=t[r];for(var a in n)j.b[e](n[a])}else j.b[e](t)},C=function(){return new Promise((function(e,t){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){if(t.coords){var r={lat:t.coords.latitude,lng:t.coords.longitude};e(r)}}),(function(e){console.error(e),t(e)})):t("Your browser does not support geolocation")}))},P=r(32),N=r.n(P).a.create({});N.interceptors.request.use((function(e){return e}),(function(e){return w("error",e.message),Promise.reject(e)})),N.interceptors.response.use((function(e){return e}),(function(e){return w("error",e.message),Promise.reject(e)}));var A=N,U="0d6abf43bc0129ed9be7251a7ba6c9df",I="https://api.openweathermap.org/",B={getCurrentWeatherByCityName:function(e,t){return t?A.get("".concat(I,"/data/2.5/weather?q=").concat(e,",").concat(t,"&units=metric&APPID=").concat(U)):A.get("".concat(I,"/data/2.5/weather?q=").concat(e,"&units=metric&APPID=").concat(U))},getCurrentWeatherByCityId:function(e){return A.get("".concat(I,"/data/2.5/weather?id=").concat(e,"&units=metric&APPID=").concat(U))},getCurrentWeatherByGeolocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A.get("".concat(I,"/data/2.5/weather?lat=").concat(e.lat,"&lon=").concat(e.lng,"&units=metric&APPID=").concat(U))}},G=r(18),W=function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))},S=function(e){function t(){var e,r;Object(v.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).state={open:!!r.props.expanded},r}return Object(O.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{style:{cursor:"pointer",textStyle:"underline",color:"blue"},onClick:function(){e.setState({open:!e.state.open})}},this.props.title,this.state.open?a.a.createElement("span",null," v"):a.a.createElement("span",null," >")),this.state.open?this.props.children:null,0===this.props.children.length&&this.state.open?a.a.createElement("i",null,"Empty"):null)}}]),t}(a.a.Component),k=function(e){function t(){return Object(v.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"text-left p-l-15"},null!==this.props.property?a.a.createElement(a.a.Fragment,null,"number"===typeof this.props.property||"string"===typeof this.props.property||"boolean"===typeof this.props.property?a.a.createElement(a.a.Fragment,null," ",a.a.createElement("b",null,W(this.props.propertyName))," : ",String(this.props.property)," "):a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{title:W(this.props.propertyName),expanded:this.props.rootProperty},Object.values(this.props.property).map((function(r,n,o){var c=o.length;return a.a.createElement(t,{key:n,property:r,propertyName:Object.getOwnPropertyNames(e.props.property)[n],excludeBottomBorder:n===c-1})}))))):a.a.createElement(a.a.Fragment,null," ",a.a.createElement("b",null,W(this.props.propertyName))," : ",String(this.props.property)," "))}}]),t}(a.a.Component),_=function(e){function t(){var e,r;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(r=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={currentWeatherInfo:{}},r.componentDidMount=function(){r._fetchData()},r._fetchData=function(){C().then((function(e){e?(r.props.setCurrentUserGeolocation(e),B.getCurrentWeatherByGeolocation(e).then((function(e){r.setState({currentWeatherInfo:e.data})}))):w("error","Error retrieving current location")})).catch((function(e){w("error",e)}))},r.render=function(){var e=r.state.currentWeatherInfo;return a.a.createElement(a.a.Fragment,null,a.a.createElement(k,{property:e,propertyName:"Weather info",excludeBottomBorder:!1,rootProperty:!0}))},r}return Object(O.a)(t,e),t}(a.a.Component),x=Object(i.b)((function(e){return{currentUserGeolocation:e.currentUserGeolocation}}),(function(e){return{setCurrentUserGeolocation:function(t){e({type:f,payload:t})},unsetCurrentUserGeolocation:function(t){e({type:m,payload:null})}}}))(_),D=function(e){function t(){var e,r;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(r=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={},r.render=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(x,null))},r}return Object(O.a)(t,e),t}(a.a.Component);var F=function(e){var t=e.store;return a.a.createElement("div",{className:"App"},a.a.createElement(j.a,null),a.a.createElement(D,{store:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(62);c.a.render(a.a.createElement(i.a,{store:g},a.a.createElement(F,{store:g})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.e70e8aeb.chunk.js.map